var DevilPace=DevilPace||{};DevilPace.boot={preload:function(){},create:function(){this.game.stage.backgroundColor="#FFDEBE",this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.state.start("preload")}};var DevilPace=DevilPace||{};DevilPace.preload={preload:function(){var a=this.game,e=a.add.text(240,360,"Loading...",{font:"40pt Arial",fill:"#fff"});e.anchor.set(.5),a.load.image("dude","img/dude.png"),a.load.image("balloon","img/balloon.png"),a.load.image("view","img/view.png"),a.load.image("tree","img/tree.png"),a.load.image("short-tree","img/short-tree.png"),a.load.image("cloud","img/cloud.png"),a.load.image("big-cloud","img/big-cloud.png"),a.load.image("sym-cloud","img/sym-cloud.png"),a.load.image("dialog-1","img/dialog-1.png"),a.load.image("dialog-2","img/dialog-2.png"),a.load.spritesheet("button-1","img/button-1.png",140,54),a.load.spritesheet("button-2","img/button-2.png",140,54),a.load.image("card","img/card.png")},create:function(){this.state.start("play")}};var DevilPace=DevilPace||{};!function(){var a,e,t,d,i,o;DevilPace.play={preload:function(){},create:function(){var l=this.game;l.world.setBounds(0,-800,480,1600),a=l.add.image(150,-650,"cloud"),e=l.add.image(-150,-180,"sym-cloud"),t=l.add.image(180,60,"cloud"),t.scale.set(.6),d=l.add.image(340,160,"sym-cloud"),d.scale.set(.65),i=l.add.image(-20,330,"cloud"),i.scale.set(.7);var n=(l.add.image(0,580,"view"),l.add.image(300,560,"short-tree"),l.add.image(414,495,"tree"),l.add.image(330,530,"dude"));l.camera.follow(n);var s=8e3,g=1e3,c=l.add.tween(n).to({y:-500},s,Phaser.Easing.Quadratic.InOut,!1,g),r=l.add.tween(n).to({y:"30"},1500,Phaser.Easing.Sinusoidal.InOut,!1,0,-1,!0),m=l.add.image(-60,-960,"balloon"),u=l.add.tween(m).to({y:"20"},1800,Phaser.Easing.Sinusoidal.InOut,!1,0,-1,!0);o=l.add.image(-300,-850,"big-cloud");var h=l.add.image(345,-313,"dialog-1");h.scale.set(0),h.alpha=.6,h.anchor.set(1,.3);var v=l.add.tween(h.scale).to({x:1,y:1},600,Phaser.Easing.Back.Out,!1,500),p={font:"14pt Arial",fill:"#333"},P="Iâ€™ve been wanting to meet you.\nWould you be my friend?",f=l.add.text(55,-320,"",p);f.lineSpacing=15,f.alpha=.6;var b=l.add.image(160,-490,"dialog-2");b.scale.set(0),b.alpha=.6,b.anchor.set(0,1);var w=l.add.tween(b.scale).to({x:1,y:1},600,Phaser.Easing.Back.Out,!1,1200),D=function(){I.start()},y=l.add.button(265,-623,"button-1",D,this,1,0,1),E=l.add.button(265,-553,"button-2",D,this,1,0,1);[y,E].forEach(function(a){a.alpha=.8,a.anchor.set(.5),a.scale.set(0)});var C=l.add.tween(y.scale).to({x:1,y:1},500,Phaser.Easing.Back.Out,!1),x=l.add.tween(E.scale).to({x:1,y:1},500,Phaser.Easing.Back.Out,!1),O=l.add.bitmapData(l.width,l.height);O.rect(0,0,O.width,O.height,"#000");var B=l.add.image(0,-800,O);B.alpha=0;var I=l.add.tween(B).to({alpha:.5},500,Phaser.Easing.Quadratic.InOut,!1),S=l.add.image(l.world.width/2,-500,"card");S.anchor.set(.5),S.alpha=0;var k=l.add.tween(S).to({alpha:.8},500,Phaser.Easing.Quadratic.InOut,!1);c.chain(r),c.onComplete.add(function(){v.start()});var A=0,L=P.length;v.onComplete.add(function(){l.time.events.repeat(80,L,function(){f.setText(P.substr(0,++A)),A===L&&w.start()})}),w.chain(C),C.chain(x),I.chain(k),c.start(),u.start()},update:function(){this.moveCloud(a,.1,10),this.moveCloud(e,.2,10),this.moveCloud(t,.1),this.moveCloud(d,.15),this.moveCloud(i,.18),this.moveCloud(o,.6)},render:function(){},moveCloud:function(a,e,t){t=t?t:0,a.x+=e,a.x>=this.game.width+t&&(a.x=-a.width)}}}();var DevilPace=DevilPace||{};DevilPace.game=new Phaser.Game(480,800,Phaser.CANVAS,""),DevilPace.game.state.add("boot",DevilPace.boot),DevilPace.game.state.add("preload",DevilPace.preload),DevilPace.game.state.add("play",DevilPace.play),DevilPace.game.state.start("boot");